// @import '../_flexbox.scss';
@import "~@hlj/ui/style/util.scss";

.product-item {
  background: #fff;

  .price-component {
    color: #d0011b;
  }

  .studio-product-img {
    width: 5rem;
  }

  .defaut-product-img {
    width: 100%;
    // css trick 保证 height = width
    // 因为 padding/margin 是根据 width 决定的
    height: 0;
    padding-bottom: 100%;
    overflow: hidden;
  }

  .product-img-wrap {
    position: relative;
    display: block;

    .product-img {
      width: 6rem;
      height: 6rem;
      background-color: #ddd;
    }
    .floating-img {
      width: 100%;
      position: absolute;
      bottom: 0;
    }
    footer {
      color: #fff;
      background: rgba(0, 0, 0, .5);
      position: absolute;
      bottom: 0;
      width: 100%;
      line-height: 2.5;
      padding: 0 .5em;
      font-size: 75%;
    }
  }
  .default-prod-name {
    line-height: 1rem;
    font-size: 0.7rem;
    max-width: 100%;
  }
  .product-name {
    color: #1a1a1a;
    min-height: 2rem; // 2 行
    margin-top: 0.5rem;
    @include text-ellipsis(2);

    .studio-tag {
      font-size: 80%;
    }
  }
  .studio-prod-name {
    margin: 0.75rem 0 0 0;
    font-size: 0.7rem;
    max-width: 5rem;
    white-space: normal;
    min-height: 1.6rem;
  }

  .default-price {
    margin-bottom: 0.7rem;
    width: 100%;
  }
  .product-price {
    font-size: 0.8rem;
    color: #F4364E;
    width: 100%;
    height: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: .5rem;

    .price-component {
      margin-bottom: .5rem;
      display: block;
    }

    .group-price .price-component {
      display: inline-block;
    }

    .market-price {
      font-size: 0.5rem;
      color: #999;
      text-decoration: line-through;
      padding-left: 0.2rem;
      display: block;
    }

    b {
      color: #F4364E;
    }

    i {
      font-style: normal !important;
      font-size: 0.55rem;
    }
    span {
      vertical-align: baseline !important;
    }

    .price {
      font-size: 0.9rem;
    }

    .yen, .round {
      font-size: 0.7rem;
    }

    .status {
      color: #666;
      font-size: 0.55rem;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .product-fle {
      flex: 1;
      line-height: 1;

      .group-price {
        .price-title {
          font-size: 0.55rem;
          font-weight: bold;
          color: #d0011b;
        }
        .mute {
          color: #666;
          font-size: 0.55rem;
          text-decoration: line-through;
        }
      }
      .price-component {
        color: #D0021B;
        font-size: .75rem;
        font-weight: bold;
        margin-right: 0.4rem;
        .yen {
          font-size: 100%;
        }
        .round {
          font-size: 100%;
        }
      }
      .market-price {
        font-size: 0.6rem;
        color: #666;
      }
    }
  }

  .product-img-rig {
    padding: 0 .5rem;
  }

  .product-info {
  }

  .simple-artisan-component {
    height: 1.6rem;
  }

  .artisan-name-component {
    .nick-name {
      font-size: 0.6rem;
      color: #1a1a1a;
      @include text-ellipsis;
      display: inline-block;
    }
  }

  .studio-product-info {
    .simple-artisan-component {
      .avatar {
        margin-right: 0.2rem;
      }
      .artisan-name-component {
        min-height: 0.75rem;
        .nick-name {
          margin-right: 0.1rem;
          max-width: 2.5rem;
        }
        .i-certify {
          img {
            top: 65%;
          }
        }
      }
    }
  }
}

.product-item-one {

  // @extend %flexbox;
  line-height: 1;

  .product-img-wrap {
    width: 5.9rem;
    height: 5.9rem;
    position: relative;
    display: block;

    .product-img {
      width: 5.9rem;
      height: 5.9rem;
      overflow: hidden;
      background-position: center;
      background-size: cover;
      background-color: #ddd;
    }

    .floating-img {
      position: absolute;
      bottom: 0;
      img {
        width: 100%;
        height: 100%;
      }
    }

    img {
      width: 5.9rem;
      height: 5.9rem;
    }


    &.not-normal-state {
      opacity: 0.4;
    }
  }
  .product-img-rig {
    flex: 1;
    padding: .5rem  0.25rem 0 12rem;
  }

  .product-name {
    font-size: 1.7rem;
    @include text-ellipsis(2);
  }

  .product-price {
    display: flex;
    // @include align-items(baseline);

    .market-price {
      font-size: 0.5rem;
      color: #666;
      text-decoration: line-through;
      padding-left: 0.4rem;
      line-height: 1;
    }

    .product-fle {
      flex: 1;

      .group-price {
        .price-title {
          font-size: .55rem;
          font-weight: bold;
          color: #d0011b;
        }
        .mute {
          font-size: 0.55rem;
          color: #666;
          text-decoration: line-through;
          margin-left: 0.4rem;
        }
      }
      .onSell{
        vertical-align: middle !important;
      }

      .willSell{
        vertical-align: rem(-2);
      }

      .willSellOut {
        display: inline-block;
        margin-left: rem(6);
        .market-price{
        }
      }

      span {
        vertical-align: baseline;
      }
    }
    margin-top: 1.2rem;

    .price-component {
      color: #d0011b;
      font-size: .75rem;
      margin-bottom: .5rem;
      font-weight: 500;

      .yen, .round {
        font-size: 0.7rem;
      }
    }

    .status {
      font-size: 0.5rem;
      margin-left: 1rem;
      line-height: rem(14);
      color: #666;
      bottom: 0;
      padding-right: .5rem;
    }
  }

  .product-info {
    display: flex;
    justify-content: space-between;
    margin-top: .75rem;

    .shops {
      display: block;
      align-self: flex-end;
      font-size: 0.5rem;
      color: #BD9D62;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      word-break: break-all;
      word-wrap: break-word;
      padding-top: 0.1rem;
      float: right;

      img {
        width: 0.65rem;
        margin:0 0.2rem 0 0.7rem;
        vertical-align: text-top;
      }
    }
  }
  footer {
    color: #fff;
    background: rgba(0, 0, 0, .5);
    position: absolute;
    bottom: 0;
    width: 100%;
    line-height: 2;
    font-size: 75%;
    text-align: center;
  }
}

.product-item .activity-price span.price-component {
  margin-bottom: 0.3rem;
  display: inline-block;
}

.product-item .activity-price,
.product-item-one .activity-price{
  position: relative;
  line-height: 1;

  span.onSell{
    height: rem(14);
    line-height: rem(14);
    color: #fff;
    display: inline-block;
    vertical-align: rem(2) !important;
    padding: 0 rem(5);
    background-color: #d0011b;
    margin-right: rem(6);
    font-size: rem(11);
    border-radius: 1.5px;
  }

  // FIXME 用组件后需删除
  .willSellOut{
    padding-top: rem(3);
    line-height: rem(14);
    .market-price {
      padding-left: 0;
    }
  }

  .willSell{
    height: rem(13.5);
    line-height: rem(13.5);
    color: #fff;
    font-size: rem(11);
    display: inline-block;
    vertical-align: rem(0);
    border: 1px solid #d0011b;
    border-radius: 1.5px;
    overflow: hidden;
    background-color: #fff;
    @include clearfix;

    span{
      float: left;
      padding: 0 rem(5);
      &:first-child{
       color: #fff;
       background-color: #d0011b;
      }
      &:nth-child(2){
        color: #d0011b;
      }
    }
  }
}
